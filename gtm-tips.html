<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>HighPing - Google Tag Manager Tips</title>
  <link rel="stylesheet" href="styles v2.css">
</head>

<body>

  <div class="accordion-body">
    <div class="wrapper">
      <!-- <div class="allsides-7">7. Hover me </div> -->
      <div  class="nav-bar">
        <ul>
          <li>
            <a href="https://highping.com.tr" target="_blank" class="un">Ana Sayfa</a>
          </li>
          <li>
            <a href="https://blog.highping.com.tr" target="_blank" class="un">Blog</a>
          </li>
        </ul>
      </div>
      <!-- <span class="un">Underlined Text</span> -->

      <h2 class="header_text">GTM'de En Ã‡ok Ä°htiyacÄ±nÄ±z Olan DeÄŸiÅŸkenler</h2>

      <hr>


      <div class="accordion-panel">

        <div class="topic_title">
          <div class='order'>
            <span>1</span>
          </div>

          <h2>
            <button class="accordion-trigger" aria-expanded="false" aria-controls="accordion1-content">
              Sayfa BaÅŸlÄ±k DeÄŸerini Alma
            </button>
          </h2>
        </div>

        <div class="accordion-content" role="region" aria-labelledby="panel1-title" aria-hidden="true">
          <div>
            <p>TarayÄ±cÄ± sekmesinde gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z site baÅŸlÄ±ÄŸÄ±nÄ± title etiketinden alabilirsiniz.</p>

            <pre>
function pageTitle() {
  var title = document.querySelector('title').innerText
  return title
}
</pre>



          </div>
        </div>
      </div>

      <!-- ğŸ“Œ Sayfa BaÅŸlÄ±k DeÄŸeri END -->

      <hr>

      <!-- ğŸ“Œ Sayfa Yenilenme SayÄ±sÄ± -->

      <div class="accordion-panel">

        <div class="topic_title">
          <div class='order'>
            <span>2</span>
          </div>

          <h2>
            <button class="accordion-trigger" aria-expanded="false" aria-controls="accordion1-content">
              Sayfa Yenilenme SayÄ±sÄ±
            </button>
          </h2>
        </div>

        <div class="accordion-content" role="region" aria-labelledby="panel1-title" aria-hidden="true">
          <div>
            <p>Bir sayfanÄ±n kullanÄ±cÄ± tarafÄ±ndan kaÃ§ defa yenilendiÄŸini Ã¶lÃ§ebilirsiniz.</p>

            <pre>
function reloadCount() {
  var state = history.state || {};
  var reloadCount = state.reloadCount || 0;
  if (performance.navigation.type === 1) {
    state.reloadCount = ++reloadCount;
    history.replaceState(state, null, document.URL);
  } else if (reloadCount) {
    delete state.reloadCount;
    reloadCount = 0;
    history.replaceState(state, null, document.URL);
  }

  return reloadCount
}
</pre>



          </div>
        </div>
      </div>

      <!-- ğŸ“Œ Sayfa Yenilenme SayÄ±sÄ± END -->

      <hr>

      <!-- ğŸ“Œ DeÄŸiÅŸkenden Rakamlar Haricinde Her Åeyi Silmek -->

      <div class="accordion-panel">

        <div class="topic_title">
          <div class='order'>
            <span>3</span>
          </div>

          <h2>
            <button class="accordion-trigger" aria-expanded="false" aria-controls="accordion1-content">
              DeÄŸiÅŸkenden Rakamlar Haricinde Her Åeyi Silmek
            </button>
          </h2>
        </div>

        <div class="accordion-content" role="region" aria-labelledby="panel1-title" aria-hidden="true">
          <div>
            <p>
              Elde ettiÄŸiniz deÄŸiÅŸkenin iÃ§indeki rakamlar haricindeki tÃ¼m deÄŸerleri kaldÄ±rmak ki <code>
                <strong>regex</strong> </code> kullanabilirsiniz.
            </p>
            <pre>
let text = "Highping34.4--//96)qwerty%)"
let newText = text.replaceAll(/[^\d]/g, '')

// SonuÃ§: newText = 34496
</pre>
          </div>
        </div>
      </div>

      <!-- ğŸ“Œ DeÄŸiÅŸkenden Rakamlar Haricinde Her Åeyi Silmek END -->

      <hr>

      <!-- ğŸ“Œ ÃœrÃ¼n FiyatÄ±nÄ±n KÃ¼sÃ¼ratÄ±nÄ± NoktalÄ± Yapma -->

      <div class="accordion-panel">

        <div class="topic_title">
          <div class='order'>
            <span>4</span>
          </div>

          <h2>
            <button class="accordion-trigger" aria-expanded="false" aria-controls="accordion1-content">
              ÃœrÃ¼n FiyatÄ±nÄ±n KÃ¼sÃ¼ratÄ±nÄ± NoktalÄ± Yapma
            </button>
          </h2>
        </div>

        <div class="accordion-content" role="region" aria-labelledby="panel1-title" aria-hidden="true">
          <div>
            <p>
              GA4 baÅŸta olmak Ã¼zere tÃ¼m veri toplama araÃ§larÄ± Ã¼rÃ¼n fiyatÄ±, sepet deÄŸeri ve ya sipariÅŸ
              toplam tutarÄ±nÄ± hem tam sayÄ± hem de kÃ¼sÃ¼ratlÄ± kabul ediyor.
            </p>
            <p>
              Fakat kÃ¼sÃ¼ratlÄ± deÄŸerlerde istenen ÅŸart; kÃ¼sÃ¼ratÄ±n nokta ile ayrÄ±lmasÄ±dÄ±r. <br>
              Yani tarayÄ±cÄ±da gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z 1,435.56 TRY, 2.567,32 TRY ÅŸeklinde tutarlarÄ± kabul etmez. <br>
              <u>Not: DeÄŸerlerin tarayÄ±cÄ±da farklÄ± gÃ¶zÃ¼kmesi Ã§oÄŸu zaman kullanÄ±cÄ±nÄ±n deÄŸeri rahat
                okuyabilmesi iÃ§indir.</u> <br>
              GA4'Ã¼n kabul ettiÄŸi deÄŸerlerin 1435.56 TRY ve 2567.32 TRY (para birimi olmadan) ÅŸeklinde
              olmasÄ± gerekiyor. <br>
              <br>
              Bunun iÃ§in yapÄ±lacak bir kaÃ§ iÅŸlem var; Ã¶nce <code><strong>replaceAll</strong></code>
              metodunu ele alalÄ±m.
            </p>

            <hr class="hr-text" id="hr-border" data-content="replaceAll">

            <pre>
// On, yÃ¼z, bin, yÃ¼zbin ve ya milyonluk deÄŸerlerin virgÃ¼l ile ayrÄ±ldÄ±ÄŸÄ±, kÃ¼sÃ¼ratÄ±n ise nokta ile ayrÄ±ldÄ±ÄŸÄ± deÄŸerler.
// Bu tÃ¼r deÄŸerlerde virgÃ¼lÃ¼ silersek iÅŸimiz tamamlanacak.

let fiyat = '1,567,435.56'
let yeniFiyat = fiyat.replaceAll(',','') // Yeni fiyat 1567435.56

// Tam tersi durumlarda; kÃ¼sÃ¼ratÄ±n virgÃ¼lle, diÄŸerlerin nokta ile ayrÄ±ldÄ±ÄŸÄ± deÄŸerler.
// Bu tÃ¼r deÄŸerlerde Ã¶nce noktalarÄ± kaldÄ±rÄ±p, sonda virgÃ¼lÃ¼ noktaya Ã§evirebiliriz.

let fiyat = '1.567.435,56'
let yeniFiyat = fiyat.replaceAll('.','').replace(',','.') // Yeni fiyat 1567435.56
</pre>

            <p>
              <code><strong>replace</strong> ve <strong>replaceAll</strong></code> haricinde bir fonksiyon
              var ki girilen tÃ¼m deÄŸerlerin kÃ¼sÃ¼ratÄ±nÄ± noktalÄ± yapar.
            </p>

            <hr class="hr-text" id="hr-border" data-content="function">

            <pre>
function totalPrice() {
  var price = '1234.564,67'
  if (price.includes(',') || price.includes('.')) {
    var commaReplacePrice = price.replaceAll(',', '.')
    var token = '.'
    /* Requires STRING not contain TOKEN */
    var parts = commaReplacePrice.split(token);
    if (price.length <= 4) {
      return price
    } else {
      return parts.slice(0, -1).join('') + '.' + parts.slice(-1)
    }
  } else {
    return price
  }
}
</pre>
          </div>
        </div>
      </div>

      <!-- ğŸ“Œ ÃœrÃ¼n FiyatÄ±nÄ±n KÃ¼sÃ¼ratÄ±nÄ± NoktalÄ± Yapma END -->

      <hr>

      <!-- ğŸ“Œ TÄ±klanan Elementin DeÄŸerlerini Alma -->
      <div class="accordion-panel">

        <div class="topic_title">
          <div class='order'>
            <span>5</span>
          </div>

          <h2>
            <button class="accordion-trigger" aria-expanded="false" aria-controls="accordion1-content">
              TÄ±klanan Elementin DeÄŸerlerini Alma
            </button>
          </h2>
        </div>

        <div class="accordion-content" role="region" aria-labelledby="panel1-title" aria-hidden="true">
          <div>
            <p>JavaScript <code><strong>addEventListener</strong></code> ve ya
              <code><strong>onclick</strong></code> metodu ile tarayÄ±cÄ±da tÄ±klanan
              Ã¶ÄŸenin elementini yakayabilirsiniz.</p>
            <p>
              Ã–nce metodu konsola yazarak doÄŸruluÄŸunu kontrol ediyoruz:
            </p>

            <hr class="hr-text" id="hr-border" data-content="addEventListener">

            <pre>
document.addEventListener("click", function (event) {
    var targetElement = event.target;
    console.log(targetElement);
    return "";
});
</pre>

            <hr class="hr-text" id="hr-border" data-content="onlick">

            <pre>
document.onclick = function (event) {
    var targetElement = event.target;
    console.log(targetElement);
    return "";
};
</pre>

            <p>Åimdi de en Ã§ok ihtiyaÃ§ duyulan elementin metin, class, id ve varsa url deÄŸerlerini deÄŸiÅŸkene
              atayabilirsiniz.</p>

            <pre>
document.onclick = function (event) {
    elementText = event.target.innerText;
    elementClass = event.target.className;
    elementUrl = event.target.href;
    elementId = event.target.id;

    // globalThis deÄŸiÅŸkeni fonksyiondan Ã§Ä±kararak global deÄŸiÅŸken haline getirir.
    globalThis.elementText;
    globalThis.elementClass;
    globalThis.elementUrl;
    globalThis.elementId;
    return ''
};
</pre>

            <p>
              Fakat GTM tÄ±klama takiplerini JS kodu yazmadan da takip edilebileceÄŸimiz tetikleyiciler
              eklemiÅŸtir.
              Bu tÄ±klanmalarÄ± da kendi iÃ§inde ikiye ayÄ±rmÄ±ÅŸ; Ã–ÄŸe TÄ±klanmalarÄ± ve Link TÄ±klanmalarÄ±. Fark
              ÅŸudur; tÃ¼m tÄ±klamalar Ã–ÄŸe TÄ±klamalarÄ±na dahildir, Link TÄ±klamalarÄ± ise iÃ§inde url (href)
              barÄ±ndÄ±ran buton ve ya link tÄ±klamalarÄ±dÄ±r.
              Ã–ÄŸe TÄ±klamalarÄ± iÃ§in; <b>TÄ±klama > TÃ¼m Ã–ÄŸeler (Click > All Elements)</b> , Link TÄ±klamalarÄ±
              iÃ§in; TÄ±klama > YazlÄ±nca BaÄŸlantÄ±lar (Click > Just Links) tetikleyicisini oluÅŸturmamÄ±z
              gerekiyor. Tetikleyici, kullanÄ±cÄ±nÄ±n eylemini takip eder. Bu eylemin deÄŸerlerini deÄŸiÅŸkenler
              takip eder. DolayÄ±sÄ± ile sadece Click ve ya Link Click tetikleyicilerini kurmak yeterli
              sayÄ±lmaz. AynÄ± zamanda bu tetikleyici tÃ¼rÃ¼ne denk deÄŸiÅŸken tÃ¼rlerini de aktif etmemiz
              gerekiyor. Bunun iÃ§in DeÄŸiÅŸkenler bÃ¶lÃ¼mÃ¼nden YerleÅŸik DeÄŸiÅŸkenlerden TÄ±klama tÃ¼rÃ¼ndeki
              deÄŸiÅŸkenleri aktif ediyoruz.
              Ä°ÅŸlem sonucu ÅŸu olacak: Click tetikleyici ile tÄ±klanan elementin Class ismini, mentini ve ya
              url deÄŸerlerini Ã¶lÃ§ebilirsiniz.
            </p>

          </div>
        </div>
      </div>

      <!-- ğŸ“Œ TÄ±klanan Elementin DeÄŸerlerini Alma END -->

      <hr>

      <div class="accordion-panel">

        <div class="topic_title">
          <div class='order'>
            <span>6</span>
          </div>

          <h2>
            <button class="accordion-trigger" aria-expanded="false" aria-controls="accordion1-content">
              Title 6
            </button>
          </h2>
        </div>

        <div class="accordion-content" role="region" aria-labelledby="panel1-title" aria-hidden="true">
          <div>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ab nulla blanditiis hic atque perferendis! Non deleniti sed amet culpa nulla voluptas officia, dolorum officiis, eius, sunt facere repellendus temporibus recusandae animi. Excepturi voluptatum eius labore corporis blanditiis odio aspernatur totam maiores officiis aliquam. Quibusdam numquam ut quidem nulla qui adipisci molestiae non dolor velit ad eum sint explicabo ratione eligendi, voluptatem sit dolorum inventore repellendus. Eligendi minus enim natus tempore, atque voluptates at ducimus alias consequatur asperiores sapiente quisquam animi obcaecati esse maxime molestiae pariatur consequuntur ipsa blanditiis voluptas sed rem non vel ex. Odit saepe fugit consectetur dolorem commodi.</p>
          </div>
        </div>
      </div>

      <hr>

      <div class="accordion-panel">

        <div class="topic_title">
          <div class='order'>
            <span>7</span>
          </div>

          <h2>
            <button class="accordion-trigger" aria-expanded="false" aria-controls="accordion1-content">
              Title 7
            </button>
          </h2>
        </div>

        <div class="accordion-content" role="region" aria-labelledby="panel1-title" aria-hidden="true">
          <div>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem harum natus rerum sapiente
            fugiat soluta nostrum voluptatem totam libero laudantium esse laborum temporibus fugit, aliquid
            consectetur ipsa perspiciatis explicabo labore?

            <pre>

                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"primary visible info"</span>&gt;</span>Item<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        
                      </pre>

            Lorem ipsum, dolor sit amet consectetur adipisicing elit. Nostrum, at. Tempore quae quo dicta
            ratione esse excepturi, ad culpa eveniet!

          </div>
        </div>
      </div>

      <hr>

    </div>
  </div>

  <script src="/source.js" type="text/javascript"></script>



</body>

</html>
